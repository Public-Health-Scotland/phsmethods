<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A collection of methods for commonly undertaken analytical
    tasks, primarily developed for Public Health Scotland (PHS) analysts,
    but the package is also generally useful to others working in the
    healthcare space, particularly since it has functions for working with
    Community Health Index (CHI) numbers. The package can help to make
    data manipulation and analysis more efficient and reproducible.">
<title>Standard Methods for Use in Public Health Scotland • phsmethods</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Standard Methods for Use in Public Health Scotland">
<meta property="og:description" content="A collection of methods for commonly undertaken analytical
    tasks, primarily developed for Public Health Scotland (PHS) analysts,
    but the package is also generally useful to others working in the
    healthcare space, particularly since it has functions for working with
    Community Health Index (CHI) numbers. The package can help to make
    data manipulation and analysis more efficient and reproducible.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">phsmethods</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/chi-operations.html">Working with CHI numbers</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Public-Health-Scotland/phsmethods/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="phsmethods">phsmethods<a class="anchor" aria-label="anchor" href="#phsmethods"></a>
</h1></div>
<p><a href="https://github.com/Public-Health-Scotland/phsmethods/releases/latest" class="external-link"><img src="https://img.shields.io/github/v/release/Public-Health-Scotland/phsmethods" alt="GitHub release (latest by date)"></a> <a href="https://github.com/Public-Health-Scotland/phsmethods/actions" class="external-link"><img src="https://github.com/Public-Health-Scotland/phsmethods/workflows/R-CMD-check/badge.svg" alt="Build Status"></a> <a href="https://app.codecov.io/gh/Public-Health-Scotland/phsmethods" class="external-link"><img src="https://codecov.io/gh/Public-Health-Scotland/phsmethods/branch/master/graph/badge.svg" alt="codecov"></a></p>
<p><code>phsmethods</code> contains functions for commonly undertaken analytical tasks in <a href="https://www.publichealthscotland.scot/" class="external-link">Public Health Scotland (PHS)</a>:</p>
<ul>
<li>
<code><a href="reference/create_age_groups.html">create_age_groups()</a></code> categorises ages into groups</li>
<li>
<code><a href="reference/chi_check.html">chi_check()</a></code> assesses the validity of a CHI number</li>
<li>
<code><a href="reference/chi_pad.html">chi_pad()</a></code> adds a leading zero to nine-digit CHI numbers</li>
<li>
<code><a href="reference/sex_from_chi.html">sex_from_chi()</a></code> extracts the sex of a person from a CHI number</li>
<li>
<code><a href="reference/file_size.html">file_size()</a></code> returns the names and sizes of files in a directory</li>
<li>
<code><a href="reference/extract_fin_year.html">extract_fin_year()</a></code> assigns a date to a financial year in the format <code>YYYY/YY</code>
</li>
<li>
<code><a href="reference/match_area.html">match_area()</a></code> converts geography codes into area names</li>
<li>
<code><a href="reference/format_postcode.html">format_postcode()</a></code> formats improperly recorded postcodes</li>
<li>
<code><a href="reference/qtr.html">qtr()</a></code>, <code><a href="reference/qtr.html">qtr_end()</a></code>, <code><a href="reference/qtr.html">qtr_next()</a></code> and <code><a href="reference/qtr.html">qtr_prev()</a></code> assign a date to a quarter</li>
<li>
<code><a href="reference/age_calculate.html">age_calculate()</a></code> calculates age between two dates</li>
<li>
<code><a href="reference/dob_from_chi.html">dob_from_chi()</a></code> extracts Date of Birth (DoB) from the CHI number</li>
<li>
<code><a href="reference/age_from_chi.html">age_from_chi()</a></code> extracts age from the CHI number</li>
</ul>
<p><code>phsmethods</code> can be used on both the PHS server and desktop versions of RStudio.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>If you are using the PHS Posit Workbench the default repository is the PHS Posit Package Manager, the benefit of this is that <code>phsmethods</code> is listed there so you can install it with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"phsmethods"</span><span class="op">)</span></span></code></pre></div>
<p>To install <code>phsmethods</code> directly from GitHub, the package <code>remotes</code> is required, and can be installed with <code>install.packages("remotes")</code>.</p>
<p>You can then install <code>phsmethods</code> from GitHub with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Public-Health-Scotland/phsmethods"</span><span class="op">)</span></span></code></pre></div>
<p>However, network security settings may prevent <code><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">remotes::install_github()</a></code> from working on RStudio desktop. If this is the case, <code>phsmethods</code> can be installed by downloading the <a href="https://github.com/Public-Health-Scotland/phsmethods/archive/master.zip" class="external-link">zip of the repository</a> and running the following code (replacing the section marked <code>&lt;&gt;</code>, including the arrows themselves):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_local.html" class="external-link">install_local</a></span><span class="op">(</span><span class="st">"&lt;FILEPATH OF ZIPPED FILE&gt;/phsmethods-master.zip"</span>,</span>
<span>  upgrade <span class="op">=</span> <span class="st">"never"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-phsmethods">Using phsmethods<a class="anchor" aria-label="anchor" href="#using-phsmethods"></a>
</h2>
<p>Load <code>phsmethods</code> using <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Public-Health-Scotland/phsmethods" class="external-link">phsmethods</a></span><span class="op">)</span></span></code></pre></div>
<p>To see the documentation for any <code>phsmethods</code>’ functions, type <code>?function_name</code> into the RStudio console after loading the package:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">extract_fin_year</span></span>
<span><span class="op">?</span><span class="va">format_postcode</span></span></code></pre></div>
<p>You can access the full list of functions and their help pages on <a href="https://public-health-scotland.github.io/phsmethods/reference/index.html">Reference page of pkgdown website</a>. You will be able to see some examples of each function.</p>
<p>There is also a very useful <a href="https://scotland.shinyapps.io/phs-learnr-phsmethods" class="external-link">PHS Methods online training course</a> which gives you an interactive way to learn about this package.</p>
</div>
<div class="section level2">
<h2 id="contributing-to-phsmethods">Contributing to phsmethods<a class="anchor" aria-label="anchor" href="#contributing-to-phsmethods"></a>
</h2>
<p>At present, the maintainer of this package is <a href="https://github.com/Tina815" class="external-link">Tina Fu</a>.</p>
<p>This package is intended to be in continuous development and contributions may be made by anyone within PHS. If you would like to contribute, please first create an <a href="https://github.com/Public-Health-Scotland/phsmethods/issues" class="external-link">issue</a> on GitHub and assign <strong>both</strong> of the package maintainers to it. This is to ensure that no duplication of effort occurs in the case of multiple people having the same idea. The package maintainers will discuss the issue and get back to you as soon as possible.</p>
<p>While the most obvious and eye-catching (as well as intimidating) way of contributing is by writing a function, this isn’t the only way to make a useful contribution. Fixing typos in documentation, for example, isn’t the most glamorous way to contribute, but is of great help to the package maintainers. Please see this <a href="https://www.tidyverse.org/blog/2017/08/contributing/" class="external-link">blog post by Jim Hester</a> for more information on getting started with contributing to open-source software.</p>
<p>When contributing, please create a <a href="https://github.com/Public-Health-Scotland/phsmethods/branches" class="external-link">branch</a> in this repository and carry out all work on it. Please ensure you have linked RStudio to your GitHub account using <code>usethis::edit_git_config()</code> prior to making your contribution. When you are ready for a review, please create a <a href="https://github.com/Public-Health-Scotland/phsmethods/pulls" class="external-link">pull request</a> and assign <strong>both</strong> of the package maintainers as reviewers. One or both of them will conduct a review, provide feedback and, if necessary, request changes before merging your branch.</p>
<p>Please be mindful of information governance when contributing to this package. No data files (aside from publicly available and downloadable datasets or unless explicitly approved), server connection details, passwords or person identifiable or otherwise confidential information should be included anywhere within this package or any other repository (whether public or private) used within PHS. This includes within code and code commentary. For more information on security when using git and GitHub, and on using git and GitHub for version control more generally, please see the <a href="https://www.isdscotland.org/Products-and-Services/Transforming-Publishing-Programme/" class="external-link">Transforming Publishing Programme</a>’s <a href="https://Public-Health-Scotland.github.io/git-guide/" class="external-link">Git guide</a> and <a href="https://github.com/Public-Health-Scotland/GitHub-guidance" class="external-link">GitHub guidance</a>.</p>
<p>Please feel free to add yourself to the ‘Authors’ section of the <code>Description</code> file when contributing. As a rule of thumb, please assign your role as author (<code>"aut"</code>) when writing an exported function, and as contributor (<code>"ctb"</code>) for anything else.</p>
<p><code>phsmethods</code> will, as much as possible, adhere to the <a href="https://style.tidyverse.org/" class="external-link">tidyverse style guide</a> and the <a href="https://devguide.ropensci.org/" class="external-link">rOpenSci package development guide</a>. The most pertinent points to take from these are:</p>
<ul>
<li>All function names should be in lower case, with words separated by an underscore</li>
<li>Put a space after a comma, never before</li>
<li>Put a space before and after infix operators such as <code>&lt;-</code>, <code>==</code> and <code>+</code>
</li>
<li>Limit code to 80 characters per line</li>
<li>Function documentation should be generated using <a href="https://github.com/r-lib/roxygen2" class="external-link"><code>roxygen2</code></a>
</li>
<li>All functions should be tested using <a href="https://github.com/r-lib/testthat" class="external-link"><code>testthat</code></a>
</li>
<li>The package should always pass <code>devtools::check()</code>
</li>
</ul>
<p>It’s not necessary to have experience with GitHub or of building an R package to contribute to <code>phsmethods</code>. If you wish to contribute code then, as long as you can write an R function, the package maintainers can assist with error handling, writing documentation, testing and other aspects of package development. It is advised, however, to consult <a href="https://r-pkgs.org/" class="external-link">Hadley Wickham’s R Packages book</a> prior to making a contribution. It may also be useful to consult the <a href="https://github.com/Public-Health-Scotland/phsmethods/tree/master/R" class="external-link">documentation</a> and <a href="https://github.com/Public-Health-Scotland/phsmethods/tree/master/tests/testthat" class="external-link">tests</a> of existing functions within this package as a point of reference.</p>
<p>Please note that this README may fail to ‘Knit’ at times as a result of network security settings. This will likely be due to the badges for the package’s release version, continuous integration status and test coverage at the top of the document. You should only make edits to the <code>.Rmd</code> version, you can then knit yourself, or a GitHub action should run and knit it for you when you open a pull request.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=phsmethods" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/Public-Health-Scotland/phsmethods/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Public-Health-Scotland/phsmethods/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 2)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing phsmethods</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>David Caldwell <br><small class="roles"> Author </small>  </li>
<li>Jack Hannah <br><small class="roles"> Author </small>  </li>
<li>Tina Fu <br><small class="roles"> Author, maintainer </small>  </li>
<li>Ciara Gribben <br><small class="roles"> Author </small>  </li>
<li>Chris Deans <br><small class="roles"> Author </small>  </li>
<li>Jaime Villacampa <br><small class="roles"> Author </small>  </li>
<li>Graeme Gowans <br><small class="roles"> Author </small>  </li>
<li>James McMahon <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-5380-2029" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Nicolaos Christofidis <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by David Caldwell, Jack Hannah, Tina Fu, Ciara Gribben, Chris Deans, Jaime Villacampa, Graeme Gowans, James McMahon, Nicolaos Christofidis.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
